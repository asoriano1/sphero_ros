<!-- Sleiman Safaoui
     July 13, 2017
   -->

<launch>

  <arg name="img_src" default="w"/>
  <arg name="cam_address" default="rtsp://192.168.137.17:8554/1.3gp"/>

<!--  
this was for locally connected cameras that support some fancy commands. we do not need it.
<node pkg="balls_detector" type="modify_camera_param.py" name="modify_camera_parameters"></node>
-->

  <node pkg="balls_detector" type="cam_bridge.py" name="cam_bridge">
    <param name="img_src" value="$(arg img_src)"/>
    <param name="cam_address" value="$(arg cam_address)"/>
  </node>

<!-- will try to debug in pycharm with this one
  <group ns="cam_bridge">
    <param name="img_src" value="$(arg img_src)"/>
    <param name="cam_address" value="$(arg cam_address)"/>
 </group>
-->

  <node pkg="balls_detector" type="tagger" name="tagger">
    <rosparam command="load" file="$(find balls_detector)/config/tag_param.yaml"/>
  </node>

  <node pkg="balls_detector" type="balls_detector_node" name="balls_detector_node">
    <rosparam command="load" file="$(find balls_detector)/config/detect_param.yaml"/>
  </node>

  <node pkg="balls_detector" type="tracker.py" name="tracker">
    <rosparam command="load" file="$(find balls_detector)/config/track_param.yaml"/>
  </node>

</launch>
